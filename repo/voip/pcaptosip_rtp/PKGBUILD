# Contributor: Francesco Piccinno <stack.box@gmail.com>

pkgname=pcaptosip_rtp
pkgver=1.0
pkgrel=1
pkgdesc="This program with full C# source code allows you to dump the calls captured in Tethereal, Ethereal, or Wireshark. You will have the sound files to play Incoming, Outgoing, and Combined audio. The program demonstrates the use of ULAW to Signed Linear functions and Signed Linear to ULAW."
url="http://"
groups=('archpwn' 'archpwn-voip')
license=('GPL')
depends=('mono')
source=(http://wiki.cdyne.com/wiki/images/2/2f/PcapToSIP_RTP_source.zip)
md5sums=('f98db7c489b1a6727a2e2aee7b48022a')
arch=(i686 x86_64)

build() {
  cd "$srcdir/CaptureToSIP_RTP"
  gmcs *.cs -out:PcapToSIP_RTP.exe || return 1

  install -d $pkgdir/usr/bin
  install -Dm755 PcapToSIP_RTP.exe $pkgdir/usr/share/$pkgname/PcapToSIP_RTP.exe

  cat > $pkgdir/usr/bin/pcaptosip_rtp << EOF
#!/bin/sh
cd /usr/share/$pkgname
exec mono PcapToSIP_RTP.exe \$*
EOF
  chmod 0755 $pkgdir/usr/bin/pcaptosip_rtp
}

# vim:set ts=2 sw=2 et:
