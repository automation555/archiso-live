# Contributor: Francesco Piccinno <stack.box@gmail.com>

pkgname=5nmp
pkgver=latest
pkgrel=1
pkgdesc="SNMP scanner/bruteforcer"
url="http://www.remote-exploit.org/codes_5nmp.html"
groups=('archpwn' 'archpwn-scanners' 'archpwn-bruteforce')
license=('GPL')
arch=(any)
depends=('mono')
source=(http://www.remote-exploit.org/codes/5nmp/5NMP.tar.gz)
md5sums=('a7e7f1d5309072d40ff4cf6dab2b17f8')

build() {
  cd "$srcdir/5NMP"

  install -d $pkgdir/usr/bin
  install -d $pkgdir/usr/share/$pkgname

  for dll in *.dll *.exe; do
    install -Dm755 $dll $pkgdir/usr/share/$pkgname/$dll || return 1
  done

  install -Dm644 dictionary.dic $pkgdir/usr/share/$pkgname/dictionary.dic || return 1

  cat > $pkgdir/usr/bin/5nmp << EOF
#!/bin/sh
cd /usr/share/$pkgname/
exec mono 5NMP.exe \$*
EOF
  chmod 0755 $pkgdir/usr/bin/5nmp
}

# vim:set ts=2 sw=2 et:
