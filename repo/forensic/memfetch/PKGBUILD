# Contributor: Leif Thande <leif.thande@gmail.com>
# Contributor: Francesco Piccinno <stack.box@gmail.com>

pkgname=memfetch
pkgver=0.05b
pkgrel=1
pkgdesc="dumps any userspace process memory without affecting its execution"
url="http://lcamtuf.coredump.cx/"
license="GPL"
groups=('archpwn' 'archpwn-forensic')
makedepends=('make')
arch=('i686')
source=('http://lcamtuf.coredump.cx/soft/memfetch.tgz' 'memfetch_pagesize.patch')
md5sums=('00dcc9e59de408dd0409835fcf866910'
         'df8f11c26522ee0eccd150e05de80a33')

build() {
  cd $startdir/src/$pkgname
  patch -p0 $startdir/src/$pkgname/memfetch.c < $startdir/src/memfetch_pagesize.patch
  make || return 1
  install -D -m755 $startdir/src/memfetch/memfetch $startdir/pkg/usr/bin/memfetch

}
