# Contributor: Francesco Piccinno <stack.box@gmail.com>

pkgname=webshag
pkgver=1.00
pkgrel=1
pkgdesc="Webshag is a multi-threaded, multi-platform web server audit tool."
url="http://www.scrt.ch/pages_en/outils.html"
groups=('archpwn' 'archpwn-www' 'archpwn-scanners' 'archpwn-enumeration')
license=('GPL')
depends=('python')
arch=(any)
source=(http://www.scrt.ch/outils/$pkgname/ws100_linux.tar.gz)
md5sums=('0a2f6e48680410a06f300c86527d59c3')

build() {
  cd "$srcdir"
  rm *.txt || return 1

  install -d $pkgdir/usr/bin
  install -d $pkgdir/usr/share/$pkgname

  cp -r config config_linux.py database webshag webshag.py $pkgdir/usr/share/$pkgname/ || return 1
  chmod +r -R $pkgdir/usr/share/$pkgname/ || return 1

  chmod 0755 $pkgdir/usr/share/$pkgname/webshag.py $pkgdir/usr/share/$pkgname/config_linux.py || return 1

  cat > $pkgdir/usr/bin/$pkgname << EOF
#!/bin/sh
cd /usr/share/$pkgname/
python webshag.py \$*
EOF
  chmod 0755 $pkgdir/usr/bin/$pkgname || return 1
}

# vim:set ts=2 sw=2 et:
