# Maintainer: Nathan Owe <ndowens04+AUR at gmail.com>
# Contributor: Francesco Piccinno <stack.box@gmail.com>

pkgname=autoscan
pkgver=1.42
pkgrel=1
pkgdesc="Utility for network exploration"
url="http://autoscan-network.com"
updateurl="http://sourceforge.net/projects/autoscan/files/=>autoscan-network-"
depends=('net-snmp' 'libelf' 'gtk-vnc' 'libgnomeui' 'vte' 'libao' 'libvorbis')
makedepends=('gconf')
arch=('i686' 'x86_64')
license=('GPL')
install=$pkgname.install
groups=('archpwn' 'archpwn-scanners')
source=(http://autoscan.fr/download_files/$pkgname-network-$pkgver.tar.gz 'autoscan-network')
md5sums=('a36f658165c36bfe8f1c01eb597546f8'
        '98583cd427e829b09035c7833fb0c294')

build() {
  cd $srcdir/autoscan-network-$pkgver
  install -d $pkgdir/{usr/sbin,etc/rc.d,etc/conf.d} || return 1
  ./configure --distrib-Linux || return 1
  make || return 1
  make DESTDIR=$pkgdir install
  install -m755 $srcdir/autoscan-network $pkgdir/etc/rc.d/ || return 1
  chmod -R a+r $pkgdir/usr/share/pixmaps/autoscan-network/ || return 1
  chmod -R a+rx $pkgdir/usr/share/pixmaps/autoscan-network/{Onglet/,Network/,Modes/,Animation/,Equipment/,Type/,Modules/,Port} || return 1
  install -m755 bin/{autoscan-network,autoscan-network-daemon} $pkgdir/usr/sbin/ || return 1
}
