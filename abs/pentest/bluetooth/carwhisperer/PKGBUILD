# Contributor: Francesco Piccinno <stack.box@gmail.com>

pkgname=carwhisperer
pkgver=0.2
pkgrel=2
pkgdesc="The carwhisperer project intends to sensibilise manufacturers of carkits and other Bluetooth appliances without display and keyboard for the possible security threat evolving from the use of standard passkeys."
url="http://trifinite.org/trifinite_stuff_carwhisperer.html"
updateurl="http://trifinite.org/trifinite_stuff_carwhisperer.html=>carwhisperer-"
groups=('archpwn' 'archpwn-bluetooth')
license=('GPL')
makedepends=('gcc')
depends=('bluez' 'perl')
arch=(i686 x86_64)
source=(http://trifinite.org/Downloads/${pkgname}-${pkgver}.tar.gz)
md5sums=('ef3b658c7b8a5b255276b71a2151d356')

build() {
  cd "$srcdir/$pkgname-$pkgver"
  make || return 1

  install -d $pkgdir/usr/bin
  install -d $pkgdir/usr/share/doc/$pkgname/samples
  install -d $pkgdir/usr/share/doc/$pkgname/scripts

  install -Dm755 $pkgname $pkgdir/usr/bin/$pkname

  for file in README hcid.conf; do
    install -Dm644 $file $pkgdir/usr/share/doc/$pkgname/$file
  done

  for file in *.raw; do
    install -Dm644 $file $pkgdir/usr/share/doc/$pkgname/samples/$file
  done

  for file in cw_pin.pl cw_scanner; do
    install -Dm755 $file $pkgdir/usr/share/doc/$pkgname/scripts/$file
  done
}

# vim:set ts=2 sw=2 et:
